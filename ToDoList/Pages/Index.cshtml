@page
@model IndexModel
@{
    ViewData["Title"] = "Min att göra lista";
}

<div class="text-center">
    <h1 class="display-4">Att göra:</h1>
    <p>Att göra lista för @Model.UserName</p>
    @if (Model.Tasks.Any()) { 
    <table>
        <thead>
            <tr>
                <th>Att göra</th>
                <th>Klart</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Tasks)
            {
            <tr>
                <td>@item.Description</td>
                <td><a asp-page-handler="Remove" asp-route-id="@item.ID">Klart</a></td>
            </tr>
            }
        </tbody>
    </table>
    }
            else
            {
                <p>Inga uppgifter finns skapade.</p>
            }
    <h2>Lägg till en uppgift</h2>
    <form method="post">
        <input asp-for="NewTask.UserId" type="hidden" value="@Model.UserId" />
        <div class="form-group">
            <input asp-for="NewTask.Description" />
        </div>

        <div class="form-group">
            <input type="submit" value="Skapa" />
        </div>
    </form>
</div>
